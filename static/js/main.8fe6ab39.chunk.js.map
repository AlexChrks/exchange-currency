{"version":3,"sources":["components/Input/Input.module.scss","store/reducers/reducers.js","components/Dropdown/Dropdown.js","components/Input/Input.js","api/apiQuery.js","store/actions/actions.js","components/Exchanger/Exchanger.js","components/App/App.js","index.js","components/Exchanger/Exchanger.module.scss","components/Dropdown/Dropdown.module.scss"],"names":["module","exports","initialState","availableKeys","base","target","baseValue","targetValue","Dropdown","handler","value","label","keys","useSelector","state","selectAvailableKeys","className","styles","labelDrop","dropdown","onChange","map","key","Input","inputLabel","input","type","apiQuery","url","Promise","resolve","reject","fetch","then","response","json","catch","error","saveRatesOfBase","rates","payload","resetBaseAndTargetValues","dispatch","changeBaseValue","changeTargetValue","Exchanger","store","useDispatch","useEffect","data","Object","saveAvailableKeys","console","log","globalWrapper","exchanger","heading","dropsContainer","e","saveRatesOfBaseQuery","switchBase","switchTarget","toFixed","buttonsContainer","button","exchangedValue","current","App","createStore","action","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8fe6ab39.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputLabel\":\"Input_inputLabel__24twE\",\"input\":\"Input_input__3CdFe\"};","const initialState = {\r\n  availableKeys: [],\r\n  base: 'USD',\r\n  target: 'BYN',\r\n  baseValue: '',\r\n  targetValue: '',\r\n};\r\n\r\n\r\nexport function reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'SAVE_AVAILABLE_KEYS':\r\n      return {\r\n        ...state,\r\n        availableKeys: [...action.payload]\r\n      }\r\n    case 'SWITCH_BASE':\r\n      return {\r\n        ...state,\r\n        base: action.payload\r\n      }\r\n    case 'SWITCH_TARGET':\r\n      return {\r\n        ...state,\r\n        target: action.payload,\r\n      }  \r\n    case 'SAVE_RATES_OF_BASE':\r\n      return {\r\n        ...state,\r\n        rates: action.payload,\r\n      }\r\n    case 'CHANGE_BASE_VALUE':\r\n      return {\r\n        ...state,\r\n        baseValue: action.payload,\r\n      }\r\n    case 'CHANGE_TARGET_VALUE':\r\n      return {\r\n        ...state,\r\n        targetValue: action.payload,\r\n      }          \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const selectAvailableKeys = state => state.availableKeys;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport {selectAvailableKeys} from '../../store/reducers/reducers'\r\n\r\nimport styles from './Dropdown.module.scss'\r\n\r\nfunction Dropdown({handler, value, label}) {\r\n  \r\n  const keys = useSelector((state) => selectAvailableKeys(state));\r\n\r\n  return (\r\n    <label className={styles.labelDrop}>\r\n      {label}\r\n      <select className={`form-select form-select-sm ${styles.dropdown}`} onChange={handler} value={value}>\r\n        { keys.map((key) => <option key={key}>{key}</option>) }\r\n      </select>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default Dropdown;\r\n","import React from 'react';\r\nimport styles from './Input.module.scss'\r\n\r\nfunction Input({handler, value, label}) {\r\n  return (\r\n    <label className={styles.inputLabel}>\r\n      {label}\r\n      <input className={styles.input} onChange={handler} value={value} type='number'/>\r\n    </label>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","export function apiQuery(base = 'USD') {\r\n  const url = `https://api.exchangerate.host/latest?base=${base}`;\r\n\r\n  return new Promise((resolve, reject) => {\r\n      fetch(url)\r\n          .then((response) => {\r\n              resolve(response.json());\r\n          })\r\n          .catch(error=>reject(error));\r\n  })\r\n}\r\n","import { apiQuery } from '../../api/apiQuery'\r\n\r\nconst SAVE_AVAILABLE_KEYS = 'SAVE_AVAILABLE_KEYS';\r\nconst SWITCH_BASE = 'SWITCH_BASE';\r\nconst SWITCH_TARGET = 'SWITCH_TARGET';\r\nconst SAVE_RATES_OF_BASE = 'SAVE_RATES_OF_BASE';\r\nconst CHANGE_BASE_VALUE = 'CHANGE_BASE_VALUE';\r\nconst CHANGE_TARGET_VALUE = 'CHANGE_TARGET_VALUE';\r\n\r\nexport function saveAvailableKeys(data) {\r\n  return {\r\n    type: SAVE_AVAILABLE_KEYS,\r\n    payload: data\r\n  }\r\n}\r\n\r\nexport function saveAvailableKeysAndRatesQuery() {\r\n  return (dispatch) => {\r\n    apiQuery().then((data) => {\r\n      const keys = Object.keys(data.rates);\r\n      dispatch(saveAvailableKeys(keys));\r\n      dispatch(saveRatesOfBase(data.rates));\r\n      console.log(data)\r\n    })\r\n  };\r\n}\r\n\r\nexport function switchBase(base) {\r\n  return {\r\n    type: SWITCH_BASE,\r\n    payload: base\r\n  }\r\n}\r\n\r\nexport function switchTarget(target) {\r\n  return {\r\n    type: SWITCH_TARGET,\r\n    payload: target\r\n  }\r\n}\r\n\r\nexport function saveRatesOfBase(rates) {\r\n  return {\r\n    type: SAVE_RATES_OF_BASE,\r\n    payload: rates\r\n  }\r\n}\r\n\r\nexport function saveRatesOfBaseQuery(base) {\r\n  return (dispatch) => {\r\n    apiQuery(base).then((data) => {\r\n      dispatch(saveRatesOfBase(data.rates))\r\n    })\r\n  };\r\n}\r\n\r\nexport function resetBaseAndTargetValues() {\r\n  return (dispatch) => {\r\n    dispatch(changeBaseValue(''));\r\n    dispatch(changeTargetValue(''));\r\n  };\r\n}\r\n\r\nexport function changeBaseValue(value) {\r\n  return {\r\n    type: CHANGE_BASE_VALUE,\r\n    payload: value\r\n  }\r\n}\r\n\r\nexport function changeTargetValue(value) {\r\n  return {\r\n    type: CHANGE_TARGET_VALUE,\r\n    payload: value\r\n  }\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport styles from './Exchanger.module.scss';\r\nimport Dropdown from '../Dropdown/Dropdown';\r\nimport Input from '../Input/Input';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport {\r\n  switchBase, \r\n  switchTarget, \r\n  changeBaseValue, \r\n  changeTargetValue, \r\n  saveAvailableKeysAndRatesQuery, \r\n  saveRatesOfBaseQuery, \r\n  resetBaseAndTargetValues \r\n} from '../../store/actions/actions';\r\n\r\nfunction Exchanger() {\r\n\r\n  const store = useSelector((state) => state);\r\n  const {rates, target, base, baseValue, targetValue} = store;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(saveAvailableKeysAndRatesQuery());\r\n  }, [dispatch]);\r\n\r\n  const baseDropHandler = (e) => {\r\n    dispatch(saveRatesOfBaseQuery(e.target.value));\r\n    dispatch(switchBase(e.target.value));\r\n    dispatch(resetBaseAndTargetValues());\r\n  }\r\n\r\n  const targetDropHandler = (e) => {\r\n    dispatch(switchTarget(e.target.value));\r\n    dispatch(resetBaseAndTargetValues());\r\n  }\r\n\r\n  const baseInputHandler = (e) => {\r\n    dispatch(changeBaseValue(e.target.value))\r\n    const exchangedValue = e.target.value * rates[target];\r\n    dispatch(changeTargetValue(exchangedValue.toFixed(3)))\r\n  }\r\n\r\n  const targetInputHandler = (e) => {\r\n    dispatch(changeTargetValue(e.target.value))\r\n    const exchangedValue = e.target.value / rates[target];\r\n    dispatch(changeBaseValue(exchangedValue.toFixed(3)))\r\n  } \r\n\r\n  return (\r\n    <div className={styles.globalWrapper}>\r\n\r\n      <div className={styles.exchanger}>\r\n\r\n        <h1 className={styles.heading}>Currency exchange</h1>\r\n\r\n        <div className={styles.dropsContainer}>\r\n          <Dropdown handler={baseDropHandler} value={base} label='Base currency:'/>\r\n          <Dropdown handler={targetDropHandler} value={target} label='Convert to:'/>\r\n        </div>\r\n\r\n        { rates &&\r\n          <div>Currency rate: {rates[target].toFixed(3)}</div>\r\n        }\r\n\r\n        <div className={styles.buttonsContainer}>\r\n          <button className={styles.button}>Buy</button>\r\n          <button className={styles.button}>Sell</button>\r\n        </div>\r\n\r\n        <Input handler={baseInputHandler} value={baseValue} label={`You will give the next amount of ${base}`} current={rates} />\r\n        <Input value={targetValue} handler={targetInputHandler} label={`You will get the next amount of ${target}`} />\r\n\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Exchanger;\r\n","import React from 'react';\nimport Exchanger from '../Exchanger/Exchanger'\n\nfunction App() {\n  return (\n      <Exchanger />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport {reducer} from './store/reducers/reducers.js';\nimport thunk from 'redux-thunk';\n\nconst store = createStore(reducer, applyMiddleware(thunk));\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"globalWrapper\":\"Exchanger_globalWrapper__1dAlF\",\"exchanger\":\"Exchanger_exchanger__eSgRV\",\"heading\":\"Exchanger_heading__27apR\",\"dropsContainer\":\"Exchanger_dropsContainer__1un5j\",\"buttonsContainer\":\"Exchanger_buttonsContainer__1QOLT\",\"button\":\"Exchanger_button__3vNZ7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labelDrop\":\"Dropdown_labelDrop__UYtOC\",\"dropdown\":\"Dropdown_dropdown__11u7Z\"};"],"sourceRoot":""}